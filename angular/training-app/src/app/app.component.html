<header>
  Oxiane training - 2021-01
</header>
<div id="wrapper">
  <div>
    <app-status-bar></app-status-bar>
  </div>

  <h1>Training app</h1>
  OXIANE training application
  <ol>
    <li>Create login page (new component 'login', with validation inside)</li>
    <li>Adjust login form to send event to parent (login/password)</li>
    <li>Adjust to:
      <ul>
        <li>send event to parent ONLY if login == password</li>
        <li>if login ok, display text + logout button</li>
        <li>if login ko, display error</li>
        <li>Add logout option to re-display the login form</li>
      </ul>
    </li>
    <li>Adjust to:
      <ul>
        <li>Create new module session</li>
        <li>move "login" _component_ to session _module_ (edit `app.module.ts` and `session.module.ts`, see "descriptions" and "imports/exports")</li>
        <li>create new _component_ "logout" in session module</li>
      </ul>
    </li>
    <li>
      Exercise 5: create new class to handle session ID and error
      <ul>
        <li>Create new class, at the root of the project</li>
        <li>Add 2 attributes (sessionId, errorMessage)</li>
        <li>Configure injection</li>
        <li>Create components StatusBar (display user info) + Footer</li>
        <li>Let user logout from banner</li>
      </ul>
    </li>
    <li>
      Exercise 6: use OXIANE backend (http calls)
      <ul>
        <li>Fork Backend mocks: https://gitlab.com/20-100-2fe/rest-mock</li>
        <li>Build and run the backend</li>
        <li>Create new service to use HTTP calls with 2 methods: <code>login(..)</code> + <code>logout()</code></li>
        <li>Adjust module configuration</li>
        <li>Use this for login / logout in the whole application</li>
      </ul>
    </li>
  </ol>
  <hr/>

  <!-- v3: use manual events [method isLogged()] -->
  <!-- v4: use shared data -->
  <!-- display component ONLY if not logged-in -->
  <app-login *ngIf="sharedData.sessionId === undefined" [defaultLogin]="'sponge-bob'" (credentialsEvent)="onLogin($event)">
    Default text that appears if component is not loaded.
  </app-login>

  <!-- display component ONLY if logged-in -->
  <div *ngIf="sharedData.sessionId !== undefined">
    <h2>Access granted</h2>
    <p>
      {{welcomeMessage}}<br><br>
    </p>
    <app-logout (logoutEvent)="onLogout()"></app-logout>
  </div>
</div>
<footer>
  <app-footer-bar></app-footer-bar>
</footer>
